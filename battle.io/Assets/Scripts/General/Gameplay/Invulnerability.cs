using Ruinum.Core;
using UnityEngine;

public class Invulnerability
{
    private GameObject _gameobject;
    private float _invulnerabilityDuration = 0.1f;

    public Invulnerability(Level level)
    {
        _gameobject = level.gameObject;

        level.OnExpRemove += InvulnerabilityLogic;
    }

    private void InvulnerabilityLogic(float expRemoved)
    {
        _gameobject.layer = 7; //Layer Invulnerability
        TimerManager.Singleton.StartTimer(_invulnerabilityDuration, () => { if (_gameobject != null) _gameobject.layer = 8; }); //Layer Player
    }
}
